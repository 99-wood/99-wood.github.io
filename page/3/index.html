<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="99_wood&#39;s blog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="99_wood&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="99_wood">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>99_wood's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    
    <a target="_blank" rel="noopener" href="https://github.com/99-wood" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#00FA9A; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">99_wood's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">万物皆虚 万事皆允</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/05/28/test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/28/test/" class="post-title-link" itemprop="url">test</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-28 10:47:05" itemprop="dateCreated datePublished" datetime="2022-05-28T10:47:05+08:00">2022-05-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/05/28/test/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/05/28/test/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h1><script type="math/tex; mode=display">\begin{equation}\label{eq1}
e=mc^2
\end{equation}</script><p>著名的质能方程 $\eqref{eq1}$ 由爱因斯坦提出 …</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/05/21/SXOI2022%E6%B8%B8%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/21/SXOI2022%E6%B8%B8%E8%AE%B0/" class="post-title-link" itemprop="url">SXOI2022游记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-21 19:54:59" itemprop="dateCreated datePublished" datetime="2022-05-21T19:54:59+08:00">2022-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B8%B8%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">游记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/05/21/SXOI2022%E6%B8%B8%E8%AE%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/05/21/SXOI2022%E6%B8%B8%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="如果注定要落下-那就趁现在努力发光-——SXOI2022-游记"><a href="#如果注定要落下-那就趁现在努力发光-——SXOI2022-游记" class="headerlink" title="如果注定要落下, 那就趁现在努力发光. ——SXOI2022 游记"></a>如果注定要落下, 那就趁现在努力发光. ——SXOI2022 游记</h1><p>本来不打算写的, 但现在进队了, 还是写了国赛前的最后一个游记吧. 真情实感, 望读者不要以知道结局的态度看故事.</p>
<hr>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>NOIP 通过一系列骚操作和一点实力拿了全省第五, 虽然和前面的四位来说差距不是一点半点. WC 通过河里的时间规划拿了压线 Cu. NOI online 开摆.</p>
<p>山西已经弱出新低了, 省队就 6 个, 去掉女生就 5 个, 相当于我压线. 而且没有 1/3 限制, 这… 某附中直接省队变校队好吧. 今年可谓天时地利人和一个都没有.</p>
<h2 id="战况"><a href="#战况" class="headerlink" title="战况"></a>战况</h2><h3 id="day-1month"><a href="#day-1month" class="headerlink" title="day-1month"></a>day-1month</h3><p>由于疫情在家上网课, 省选由 4.4 -&gt; 4.15 -&gt; 遥遥无期. 听说有可能按 NOIP, 是不是可以压线最后一名进队了?</p>
<p>听说和山东一起举办, 猪国杀, 立体图.</p>
<p>不要和山东, 让我躺进队吧… 以我的水平再考省选说不定就掉出省队了. 哎……</p>
<p>官宣了, SDOI</p>
<p>预计开学后一周省选, 省选上下午个 4.5h, 这是人能想出来的? 咱不能办就别办, 建议取消! 虽然时间长对我这种经常熬夜的人来说有一定优势.</p>
<p>开学了</p>
<h3 id="day-5"><a href="#day-5" class="headerlink" title="day-5"></a>day-5</h3><p>开学了, 每天晚上最后一节晚自习可以到机房刷题. 开始狂补字符串知识, 发现连 KMP 都不会写了.</p>
<p>教练问我系统, 我求稳选了 Windows, 后面来看我这个决定太对了.</p>
<p>考场是笔记本, 心凉了一半, 问教练可不可以自己带键盘, 笔记本键盘有些连 end 都没有. 貌似有学校申请带键盘了. </p>
<h3 id="day-4"><a href="#day-4" class="headerlink" title="day-4"></a>day-4</h3><p>理解了 AC 自动机, 但没有写代码.</p>
<h3 id="day-3"><a href="#day-3" class="headerlink" title="day-3"></a>day-3</h3><p>过了普通的 AC 自动机, 简化代码后十分巧妙. 加强版貌似不难写, 明天 AC.</p>
<h3 id="day-2"><a href="#day-2" class="headerlink" title="day-2"></a>day-2</h3><p>过了二次加强版, 优化较容易想到.</p>
<h3 id="day-1"><a href="#day-1" class="headerlink" title="day-1"></a>day-1</h3><p>尝试打了些板子就睡了, 明天感受一下 9h 马拉松.</p>
<h3 id="day0"><a href="#day0" class="headerlink" title="day0"></a>day0</h3><p>按照省选时间起床, 给自己整了几道模板题目.</p>
<p>怎么连主席树都打不出来了? 就这还省选? 洗洗睡吧.</p>
<h3 id="day1"><a href="#day1" class="headerlink" title="day1"></a>day1</h3><p>5.15 注定是难忘的一天.</p>
<p>早上五点起床没胃口, 很有精神, 希望可以发挥好.</p>
<p>很早到了清创, 考点就我一个人, 一会儿来了个吕梁的选手, 看得很强, 甚至自己带了键盘. 我也带了, 万一让带呢?</p>
<p>进考场的时候问是否让带键盘, 得到了肯定的答复, 属于是带善人了😍, <del>早知道带青轴了</del>.</p>
<p>解压密码很复杂, 包含 SDOI,  SXOI, NOI2022 等元素.</p>
<p>开题就给爷吃了一惊, Windows 系统 lemon 测评, 那我用的岂不是最正宗系统? 用 Linux 岂不是大怨种? ❤️</p>
<p>第一题是个双序列问题, 昨天洛谷灌水区有一道也是双序列的个人想的题, 不会是另一个 FJOI 吧. 连最低的部分分都不会, 感觉树形数据结构不好维护, 应该是根号的奇技淫巧. 考到一般说第一题改为 7s, 进一步加深我的判断. 一个小时过去不知道怎么优化, 写了 O(nq) 的暴力走了.</p>
<p>第二题一个不知道什么题. 数位 DP? 先跳了.</p>
<p>第三题字符串. 好耶, 上周才看. 然而写了 AC 自动机发现用不着, 用 trie 就行了, 结果发现空间不够, 改成哈希又太慢. 一下给爷整不会了.</p>
<p>收题的时候工作人员跟我说不能用自己的键盘, 我??? 最后解释清楚后是他们搞错了, 可以带.</p>
<p>一试得分: 20 + ? + ? = ? 这还打个毛!😡 </p>
<p>发现大家大多都不会, 甚至有人说第一题写了 O(n ^ 2 * q) 不稳, 给爷整笑了🤣.</p>
<p>其实我心态挺好的, 觉得上午考的都是不会的, 下午就全是擅长的 DP 和树论了.</p>
<p>中午吃饭, 饭吃完发现汤没喝, 先睡觉养足精力.</p>
<p>一睁眼又该开考了, 凭借我多年在机房睡觉的经历, 很快调整好了状态. 看着别人睡眼惺忪的样子, 一瞬间有点感谢 9h 马拉松.</p>
<p>压缩包只看见两个文件夹, 完了, 不会是提答吧, 没练过啊!</p>
<p>解压后发现是传统题, 有一个题没有样例.</p>
<p>第一题最大独立集, 忘了, 当时有点慌了. </p>
<p>先看第二题, 不卡空间是树剖模板题, 可是卡了. 研究了一下快读和数据的特殊性质, 发现可用空间微乎其微. 发现根号大小的数组随便开, 于是先把链状的 30pts 用根号分块拿了. 考虑将这一思想拓展无果.</p>
<p>本来都打算放了, 但感觉分不够, 虽然题目不是给人写的, 但这点分数进队有点困难, 于是强迫自己看第一题.</p>
<p>发现第一题跟最大独立集其实没啥关系, 先把 k = 1 的点写了, 又把 n &lt;= 8 的点用暴力写了.</p>
<p>看着状态转移方程写了一个 O(n ^ 5) 大暴力 DP, 在考试前最后 10min 调出来了, 感觉优化的空间很大, 但没时间了.</p>
<p>交了题笑着走出了考场, 一瞬间感觉进不进队都不重要了, 这种感觉如同我当年无数次重要的考试一样, 小升初, 中考, 这是竭尽全力不计结果的感觉. 我已经把能做到做到最好, 我一直相信我的运气一向很好, 奇迹终将发生. </p>
<p>玻璃幕墙外, 夕阳一点点落下, 染红了西山, 染红了考场内的一切, 也染红刚出考场的选手们(可能选手们这时候更喜欢绿荫吧), 把他们头上的汗水照的晶莹剔透, 把他们的影子一点点拉长. 似乎只有我注意到了这难得的美景, 大家都只是在急切的交流做法, 问候出题人.</p>
<p>我知道, 这里面很多人都是我与他们的最后一次见面了, 其中大部分我都不认识, 但我们都曾为了相同的目标拼搏过.</p>
<p>教练让我, lsh, djl 一起合影留念, 于是我们迎着夕阳留下了可能是最后一次并肩作战的记忆.</p>
<p>我的 OI 生涯如同这落日一样, 有过光鲜, 如今正一点一点走向黄昏.</p>
<p><strong>夕阳无限好, 只是近黄昏.</strong></p>
<p><strong>即便是夕阳, 也在努力地照亮大地啊.</strong></p>
<p><strong>如果注定要落下, 那就趁现在努力发光.</strong></p>
<p>Y老师送我们回家, 还给我们仨买了奶茶, 以前从来没喝过欸, 在这种时候, 一杯奶茶简直是享受.</p>
<p>一路上我们一起聊题目做法, 聊题目的难度, 聊未来的规划, 不知不觉到家了.</p>
<p>回到家边找数据边吃饭, 吃完饭躺在床上, 好困, 可我还有作业, 先眯一下吧…</p>
<h3 id="day2"><a href="#day2" class="headerlink" title="day2"></a>day2</h3><p>水了水知乎发现出题人正在在线讲解<del>爬</del>.</p>
<p>晚上本来打算去机房做生物思维导图, 结果省选出分了.</p>
<p>奇迹真的出现了? 翻盘了, 不过有人因为用 pbds 抱灵了.</p>
<p>果然上午就拿了 35pts, 但下午翻盘了, 多亏了我打满暴力的指导方针.</p>
<p>lsh 退役了, 只能祝他文化课碾压我吧.</p>
<h3 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h3><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>犹忆当年 SXOI2021, 我因为执着正解和稀烂的 NOIP 没能进队, 当时附中课件的铃声让我记忆犹新, 后来我才知道那是卡农 (Canon), 从此我喜欢上了卡农, 喜欢上了他如同诗经一般循环往复的旋律. 卡农也是唯一一支可以让我只要听见旋律就会落泪的曲子. 过去一年, 听到这旋律, 我的思绪总会回到那个在附中 SXOI2021 考场的上午.</p>
<p>但我落泪不是因为省选的失利, 而是我从卡农当中听出了我的 OI 生涯. 我的 OI 生涯当中, 除了普及组的奖, 没有一个奖是首次参加就拿到的, 这使我可以深深体会到卡农想表达的那种循环中不断加深的感情. 在 SXOI2022 前, 每当我做不下题时, 打开收藏的卡农, 热泪盈眶, 继续充满动力的刷题. 如今, 终于, 实现了进省队的愿望.</p>
<p>那么, NOI2022, 最后的音符.</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/12/13/hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/13/hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">hexo博客同步方法</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-13 02:02:18" itemprop="dateCreated datePublished" datetime="2021-12-13T02:02:18+08:00">2021-12-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/12/13/hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/12/13/hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="hexo博客同步方法"><a href="#hexo博客同步方法" class="headerlink" title="hexo博客同步方法"></a>hexo博客同步方法</h1><p>今天终于实现了随时写博客的想法, 对 git 的使用也有了更深的了解. 于是写一篇博客来记录, 以免以后忘记如何同步.</p>
<h2 id="前置"><a href="#前置" class="headerlink" title="前置"></a>前置</h2><ul>
<li>git</li>
<li>node.js</li>
<li>一个 hexo 博客</li>
</ul>
<h2 id="开整"><a href="#开整" class="headerlink" title="开整"></a>开整</h2><h3 id="上传"><a href="#上传" class="headerlink" title="上传"></a>上传</h3><p>首先需要在已经有 hexo 博客的电脑 ( 记为 A 端 ) 的博客目录下使用一下命令<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init #git 命令初始化</span><br><span class="line">git remote <span class="built_in">add</span> origin https://github.<span class="keyword">com</span>/用户名/你的GitHub用户名.github.io.git #添加仓库地址</span><br><span class="line">git checkout -<span class="keyword">b</span> 分支名 #新建分支并切换到新建的分支</span><br><span class="line">git <span class="built_in">add</span> . #添加所有本地文件到git</span><br><span class="line">git commit -<span class="keyword">m</span> <span class="string">&quot;这里填写你本次提交的备注，内容随意&quot;</span> #git提交</span><br><span class="line">git push origin 分支名 #文件推送到hexo分支</span><br></pre></td></tr></table></figure></p>
<p>需要注意的是, 由于 GitHub 政策变更现在已经不能通过地址来 push, 需要 ssh 完成. 因此上文地址应改为 GitHub 仓库的 ssh , 可以从仓库页面 -&gt; code -&gt; ssh 复制. 分支名可以自己定, 一般为 hexo.</p>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>在想要写博客的电脑 ( B 端 ) 使用如下命令</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone -<span class="keyword">b</span> 分支名 https://github.<span class="keyword">com</span>/用户名/你的GitHub用户</span><br><span class="line"></span><br><span class="line">sudo npm install -g hexo-cli #安装hexo,注意这里不需要hexo初始化,否则之前的hexo配置参数会重置</span><br><span class="line">sudo npm install #安装依赖库</span><br><span class="line">sudo npm install hexo-deployer-git #安装git部署相关配置</span><br></pre></td></tr></table></figure>
<p>博客便从 GitHub 上同步至了本地, 然后重新配置 hexo 写新的博客. 写完后再通过以下命令上传至 GitHub.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">add</span> .</span><br><span class="line">git commit -<span class="keyword">m</span> <span class="string">&quot;这里填写你本次提交的备注，内容随意&quot;</span></span><br><span class="line">git push origin 分支名</span><br></pre></td></tr></table></figure>
<p>在A端使用</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>
<p>这样，你的数据就全部同步到 A 端了.</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/11/20/NOIP2021%E6%B8%B8%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/20/NOIP2021%E6%B8%B8%E8%AE%B0/" class="post-title-link" itemprop="url">NOIP2021游记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-20 20:35:57" itemprop="dateCreated datePublished" datetime="2021-11-20T20:35:57+08:00">2021-11-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B8%B8%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">游记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/11/20/NOIP2021%E6%B8%B8%E8%AE%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/11/20/NOIP2021%E6%B8%B8%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="NOIP2021退役记"><a href="#NOIP2021退役记" class="headerlink" title="NOIP2021退役记"></a>NOIP2021退役记</h1><h1 id="视频游记"><a href="#视频游记" class="headerlink" title="视频游记"></a><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1uT4y1P7CX">视频游记</a></h1><h1 id="战况"><a href="#战况" class="headerlink" title="战况"></a>战况</h1><h2 id="day-14"><a href="#day-14" class="headerlink" title="day-14"></a>day-14</h2><p>为了更好准备NOIP翘掉了每天晚上定时作业到机房刷题. (弱省不重视竞赛也没有办法长期停课. 翘课已经是最好的结果了)</p>
<h2 id="day-7"><a href="#day-7" class="headerlink" title="day-7"></a>day-7</h2><p>翘课一周, 进步明显, 希望可以天天翘课哎</p>
<h2 id="day-2"><a href="#day-2" class="headerlink" title="day-2"></a>day-2</h2><p>期中考试数学一题卡住直接去世, 后面考试也没有太复习, 重点还是NOIP.</p>
<h2 id="day-1"><a href="#day-1" class="headerlink" title="day-1"></a>day-1</h2><p>期中考完把下午的课翘了. <del>关于机房有老师上课我连听了四节通用这件事</del></p>
<h2 id="day1"><a href="#day1" class="headerlink" title="day1"></a>day1</h2><ul>
<li>7:00 想着早点起来看看板子结果睡过头了，只好草草看看kmp(貌似没有考,也有可能我太菜没看出来)</li>
<li>7:30 草草吃完饭去往太原五中</li>
<li>8:00 准时到达五中. 天气灰蒙蒙的, 心不在焉地洛谷签到, 忘了是什么了<del>貌似是大凶</del>. </li>
<li>8:10 候场, 据说停电了.<del>好耶</del> 恐禁三. 不会扣除省选名额吧. (CSP2019江西)</li>
<li>8:30 有电了, 准时开考. 考完才发现有发电机, 后勤工作不错.</li>
<li>10min 第一题就不会, 我就是个伞兵. 先看第二题吧.</li>
<li>45min 50分貌似是个状压. 想法挺多但都不太行, 下来发现很接近正解了. 为了得分先写了状压. 因为把权值当成加调了40分钟就离谱. 不过好歹有分了.</li>
<li>1hour30min 回头看t1, 发现是个简单的筛子, 但不会优化到线性, 试图套素数筛也失败了.</li>
<li>2hour15min 开t3, 发现变换相当于交换差分, 问题转化为排列差分使得方差最小, 感觉要把大的放两边, 小的放中间. 试了试离答案很接近但不知道怎么更加接近, 貌似要模拟退火, 但不知道怎么寻找更优解. 还是太菜了, 打了30分暴力走人</li>
<li>3hour30min t4看到题目背景已经不想做了, 骗分走人</li>
<li>4hour 查重定向, 文件.</li>
<li>1:00 出来问别人怎么做的. djl说他t1写出线性筛了, 看来我应该被优先队列了. 但别人好像没人写t2 50分状压. 然后合影留念. 貌似*大名校都集齐了.</li>
</ul>
<h1 id="期望"><a href="#期望" class="headerlink" title="期望"></a>期望</h1><p>70 + 50 + 30 = 150</p>
<h1 id="总结反思"><a href="#总结反思" class="headerlink" title="总结反思"></a>总结反思</h1><p>感觉题目难度不是特别变态, 但是t4题目背景不太友好, 个人不喜欢满满一页题目背景. 相比之下前三题十分友好. 主要还是自己太菜</p>
<p>关于策略感觉还是可以的, 开场选t2也是不错的选择, 做t2打开了思路. </p>
<p>不足是后期时间有点拖延导致后期得分效率低, 应该多考虑考虑t2或t1, 不过这都是后话了.</p>
<p>希望不挂分. OI生涯还能再续.</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/09/01/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%BA%8C)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/01/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%BA%8C)/" class="post-title-link" itemprop="url">可持久化线段树学习笔记 (二)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-01 00:15:13" itemprop="dateCreated datePublished" datetime="2021-09-01T00:15:13+08:00">2021-09-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">可持久化数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91/" itemprop="url" rel="index"><span itemprop="name">可持久化线段树</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%AB%98%E4%BA%8C%E6%97%A5%E6%9B%B4/" itemprop="url" rel="index"><span itemprop="name">高二日更</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/09/01/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%BA%8C)/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/09/01/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%BA%8C)/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

<h1 id="可持久化线段树学习笔记-二"><a href="#可持久化线段树学习笔记-二" class="headerlink" title="可持久化线段树学习笔记 (二)"></a>可持久化线段树学习笔记 (二)</h1><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>本期主要简单介绍可持久化权值线段树 (即主席树).</p>
<h2 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h2><ol>
<li>线段树</li>
<li>权值线段树</li>
<li>普通的可持久化线段树</li>
</ol>
<h2 id="可持久化权值线段树-主席树"><a href="#可持久化权值线段树-主席树" class="headerlink" title="可持久化权值线段树 (主席树)"></a>可持久化权值线段树 (主席树)</h2><p>主席树是一种把数字的值或离散化后的位置当作左右端点 (即权值线段树) 的可持久化权值线段树.</p>
<p>这里我们通过一道模板题 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3834">静态区间第k小</a> 来讲解. 这道题我们可以以权值线段树为单个树建立可持久化线段树. 我们可以运用前缀和的思想, 对于 \( root_i \) 的节点 \( a_{j,k} \) 表示 1 到 i 的数中大小在离散化后的数组中 \( [k,k] \) 的数的个数. 这样我们可以在 \( \log n \) 的时间里求出一个区间的第 k 小.</p>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">200010</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">	<span class="type">int</span> l,r,cnt;</span><br><span class="line">&#125;tree[<span class="number">15000000</span>];</span><br><span class="line"><span class="type">int</span> root[MAXN];</span><br><span class="line"><span class="type">int</span> endd = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> num[MAXN];</span><br><span class="line"><span class="type">int</span> bucket[MAXN];</span><br><span class="line"><span class="type">int</span> siz;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">clone</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">	tree[++endd] = tree[id];</span><br><span class="line">	<span class="keyword">return</span> endd;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">buildtree</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> l, <span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l == r) <span class="keyword">return</span>;</span><br><span class="line">	tree[p].l = ++endd;</span><br><span class="line">	tree[p].r = ++endd;</span><br><span class="line">	<span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">buildtree</span>(tree[p].l, l, m);</span><br><span class="line">	<span class="built_in">buildtree</span>(tree[p].r, m + <span class="number">1</span>, r);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> w)</span></span>&#123;</span><br><span class="line">	p = <span class="built_in">clone</span>(p);</span><br><span class="line">	++tree[p].cnt;</span><br><span class="line">	<span class="keyword">if</span>(l == r) <span class="keyword">return</span> p;</span><br><span class="line">	<span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(w &lt;= bucket[m])&#123;</span><br><span class="line">		tree[p].l = <span class="built_in">add</span>(tree[p].l, l, m, w);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		tree[p].r = <span class="built_in">add</span>(tree[p].r, m + <span class="number">1</span>, r, w);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> p1, <span class="type">int</span> p2,<span class="type">int</span> l,<span class="type">int</span> r, <span class="type">int</span> k)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l == r) <span class="keyword">return</span> bucket[l];</span><br><span class="line">	<span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(k &lt;= tree[tree[p2].l].cnt - tree[tree[p1].l].cnt) <span class="keyword">return</span> <span class="built_in">ask</span>(tree[p1].l, tree[p2].l, l, m, k);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">ask</span>(tree[p1].r, tree[p2].r, m + <span class="number">1</span>, r, k - (tree[tree[p2].l].cnt - tree[tree[p1].l].cnt));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	n = <span class="built_in">read</span>(), m = <span class="built_in">read</span>();</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">		num[i] = <span class="built_in">read</span>();</span><br><span class="line">		bucket[i] = num[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">sort</span>(bucket + <span class="number">1</span>, bucket + <span class="number">1</span> + n);</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">		<span class="keyword">if</span>(siz == <span class="number">0</span> || bucket[i] &gt; bucket[siz])</span><br><span class="line">			bucket[++siz] = bucket[i];</span><br><span class="line">		<span class="keyword">else</span> </span><br><span class="line">			bucket[siz] = bucket[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">buildtree</span>(<span class="number">0</span>,<span class="number">1</span>,siz);</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">		root[i] = <span class="built_in">add</span>(root[i - <span class="number">1</span>], <span class="number">1</span>, siz, num[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,m)&#123;</span><br><span class="line">		<span class="type">int</span> l = <span class="built_in">read</span>(), r = <span class="built_in">read</span>(), k = <span class="built_in">read</span>();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">ask</span>(root[l - <span class="number">1</span>], root[r], <span class="number">1</span>, siz, k));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/08/30/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%B8%80)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/30/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%B8%80)/" class="post-title-link" itemprop="url">可持久化线段树学习笔记 (一)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-30 23:11:49" itemprop="dateCreated datePublished" datetime="2021-08-30T23:11:49+08:00">2021-08-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">可持久化数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91/" itemprop="url" rel="index"><span itemprop="name">可持久化线段树</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%AB%98%E4%BA%8C%E6%97%A5%E6%9B%B4/" itemprop="url" rel="index"><span itemprop="name">高二日更</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/30/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%B8%80)/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/30/%E5%8F%AF%E6%8C%81%E4%B9%85%E5%8C%96%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20(%E4%B8%80)/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="可持久化线段树学习笔记-一"><a href="#可持久化线段树学习笔记-一" class="headerlink" title="可持久化线段树学习笔记 (一)"></a>可持久化线段树学习笔记 (一)</h1><h2 id="扯淡"><a href="#扯淡" class="headerlink" title="扯淡"></a>扯淡</h2><p>新赛季在即, 便在高二放弃了四晚回家博客 (希望作业少一点吧) , 可能是OI生涯的最后一年了.</p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>本期主要简单介绍普通的可持久化线段树 (如可持久化数组).</p>
<h2 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h2><ol>
<li>线段树</li>
<li>权值线段树</li>
</ol>
<h2 id="普通可持久化线段树-可持久化数组"><a href="#普通可持久化线段树-可持久化数组" class="headerlink" title="普通可持久化线段树 (可持久化数组)"></a>普通可持久化线段树 (可持久化数组)</h2><p>众所周知, 线段树是一种十分优秀的区间修改区间查询的数据结构. 但是线段树有一个弊端就是不可持久化, 即无法回到某一历史版本 (<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3919">如本题</a>),  于是可持久化线段树应运而生. 简单来说, 可持久化线段树在每次操作时都构建了一棵新的线段树. 但是很显然如果每次都建立一棵完整的线段树, 无论是空间复杂度还是时间复杂度都将难以接受. 于是我们发现每次的修改只会改变根节点到叶子节点的 logn 个节点. 于是可持久化线段树也依照如此每次只修改 logn 个节点来使空间复杂度和时间复杂度都达到较优的水平. </p>
<p>不同于普通线段树, 为了更加灵活地添加节点, 可持久化线段树使用结构体来保存每一个节点, 每个节点保存当前节点的信息以及左右儿子的节点编号. 除此以外还需要建立 root 数组来记录每棵树的根节点, 每次修改只需从上一个树的根节点向下添加需要更新的节点, 并将新的根节点加入 root 数组. 查询时只需要从某一历史版本的根节点开始按照普通线段树的方式进行查询.</p>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1000010</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXM = <span class="number">1000010</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m, endd;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">	<span class="type">int</span> l,r,w;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> root[MAXM];</span><br><span class="line"><span class="type">int</span> num[MAXN];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> tree[<span class="number">25000000</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">clone</span><span class="params">(<span class="type">int</span> p)</span></span>&#123;</span><br><span class="line">	tree[++endd] = tree[p];</span><br><span class="line">	<span class="keyword">return</span> endd;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">buildtree</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l == r)&#123;</span><br><span class="line">		tree[p].w = num[l];</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	tree[p].l = ++endd;</span><br><span class="line">	tree[p].r = ++endd;</span><br><span class="line">	<span class="built_in">buildtree</span>(tree[p].l, l, m);</span><br><span class="line">	<span class="built_in">buildtree</span>(tree[p].r, m + <span class="number">1</span>, r);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> pp, <span class="type">int</span> w)</span></span>&#123;</span><br><span class="line">	p = <span class="built_in">clone</span>(p);</span><br><span class="line">	<span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">		tree[p].w = w;</span><br><span class="line">		<span class="keyword">return</span> p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(pp &gt;= l &amp;&amp; pp &lt;= m) tree[p].l = <span class="built_in">add</span>(tree[p].l, l, m, pp, w);</span><br><span class="line">	<span class="keyword">else</span> tree[p].r = <span class="built_in">add</span>(tree[p].r, m + <span class="number">1</span>, r, pp, w);</span><br><span class="line">	<span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> pp)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l == r) <span class="keyword">return</span> tree[p].w;</span><br><span class="line">	<span class="type">int</span> m = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(pp &gt;= l &amp;&amp; pp &lt;= m) <span class="keyword">return</span> <span class="built_in">ask</span>(tree[p].l, l, m, pp);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">ask</span>(tree[p].r, m + <span class="number">1</span>, r, pp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	n = <span class="built_in">read</span>(), m = <span class="built_in">read</span>();</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">		num[i] = <span class="built_in">read</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">buildtree</span>(<span class="number">0</span>,<span class="number">1</span>,n);</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,m)&#123;</span><br><span class="line">		<span class="type">int</span> vi = <span class="built_in">read</span>(), op = <span class="built_in">read</span>(), p = <span class="built_in">read</span>();</span><br><span class="line">		<span class="keyword">if</span>(op == <span class="number">1</span>)&#123;</span><br><span class="line">			<span class="type">int</span> x = <span class="built_in">read</span>();</span><br><span class="line">			root[i] = <span class="built_in">add</span>(root[vi],<span class="number">1</span>,n,p,x);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			root[i] = root[vi];</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">ask</span>(root[vi], <span class="number">1</span>, n, p));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="一些细节"><a href="#一些细节" class="headerlink" title="一些细节"></a>一些细节</h2><ol>
<li>数组大小理论为 nlogn + mlogn , 实际代码中对于大部分题目都可以开 n*20 来防止溢出.</li>
<li>修改节点复制后 p 要更新为新的节点编号.</li>
<li>修改下传后要更新儿子节点的编号.</li>
</ol>
<h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><p>刚才的例题中, 我们发现我们对非叶子节点的利用并不彻底, 只是简单的记录了左右端点. 实际上我们完全可以像线段树一样充分地利用每一个节点. 可持久化线段树的应用也不仅仅是在可持久化数组上. 我们发现在普通的线段树上可以 logn 的时间完成的操作, 在可持久化线段树上同样可以, 只是可持久化线段树支持历史版本的查询. 我们继续深究就会发现二者本质的不同在于维护的数据的类型数目不同. 普通线段树只是同时维护了左右端点以及节点 value , 而可持久化线段树除此以外多了一个类型即 root 数组. 在例题中是数组下标, 在别的题目中它可以有别的身份, 需要灵活地运用.</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/06/CF1481D-AB-Graph/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/06/CF1481D-AB-Graph/" class="post-title-link" itemprop="url">CF1481D AB Graph</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-02-06 09:02:07" itemprop="dateCreated datePublished" datetime="2021-02-06T09:02:07+08:00">2021-02-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9E%84%E9%80%A0%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">构造题</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/02/06/CF1481D-AB-Graph/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/02/06/CF1481D-AB-Graph/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

<h1 id="CF1481D-AB-Graph"><a href="#CF1481D-AB-Graph" class="headerlink" title="CF1481D AB Graph"></a>CF1481D AB Graph</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1481/problem/D">题目</a></h2><pre><code>Your friend Salem is Warawreh&#39;s brother and only loves math and geometry problems. He has solved plenty of such problems, but according to Warawreh, in order to graduate from university he has to solve more graph problems. Since Salem is not good with graphs he asked your help with the following problem.


You are given a complete directed graph with n vertices without self-loops. In other words, you have n vertices and each pair of vertices u and v (u≠v) has both directed edges (u,v) and (v,u).

Every directed edge of the graph is labeled with a single character: either &#39;a&#39; or &#39;b&#39; (edges (u,v) and (v,u) may have different labels).

You are also given an integer m&gt;0. You should find a path of length m such that the string obtained by writing out edges&#39; labels when going along the path is a palindrome. The length of the path is the number of edges in it.

You can visit the same vertex and the same directed edge any number of times.

Input
The first line contains a single integer t (1≤t≤500) — the number of test cases.

The first line of each test case contains two integers n and m (2≤n≤1000; 1≤m≤105) — the number of vertices in the graph and desirable length of the palindrome.

Each of the next n lines contains n characters. The j-th character of the i-th line describes the character on the edge that is going from node i to node j.

Every character is either &#39;a&#39; or &#39;b&#39; if i≠j, or &#39;*&#39; if i=j, since the graph doesn&#39;t contain self-loops.

It&#39;s guaranteed that the sum of n over test cases doesn&#39;t exceed 1000 and the sum of m doesn&#39;t exceed 105.

Output
For each test case, if it is possible to find such path, print &quot;YES&quot; and the path itself as a sequence of m+1 integers: indices of vertices in the path in the appropriate order. If there are several valid paths, print any of them.

Otherwise, (if there is no answer) print &quot;NO&quot;.

Example
inputCopy
5
3 1
*ba
b*b
ab*
3 3
*ba
b*b
ab*
3 4
*ba
b*b
ab*
4 6
*aaa
b*ba
ab*a
bba*
2 6
*a
b*
outputCopy
YES
1 2
YES
2 1 3 2
YES
1 3 1 3 1
YES
1 2 1 3 4 1 4
NO
</code></pre><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>特判n=2；</p>
<p>n&gt;2:找三个点（比如123点），一个方向上三边只有aab或aaa这种，然后分别讨论m%3==0||==1||==2。</p>
<p>==0：abaaba…</p>
<p>==1: baabaab…</p>
<p>==2: aabaa…</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(i,a,b) for(int i=(a);i&lt;=(b);++i)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> frep(i,a,b) for(int i=(a);i&lt;(b);++i)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> drep(i,a,b) for(int i=(a);i&gt;=(b);--i)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fdrep(i,a,b) for(int i=(a);i&gt;(b);--i)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">ll <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">register</span> ll a=<span class="number">0</span>,b=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">register</span> <span class="type">char</span> c;</span><br><span class="line">	c=<span class="built_in">getchar</span>();</span><br><span class="line">	<span class="keyword">while</span>(c&lt;<span class="string">&#x27;0&#x27;</span>||c&gt;<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(c==<span class="string">&#x27;-&#x27;</span>)b=<span class="number">-1</span>;</span><br><span class="line">		c=<span class="built_in">getchar</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span>(c&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;c&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">		a*=<span class="number">10</span>;</span><br><span class="line">		a+=c-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">		c=<span class="built_in">getchar</span>()*b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> a*b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Qmin priority_queue<span class="string">&lt;int,vector&lt;int&gt;</span> ,less<span class="string">&lt;int&gt;</span> &gt;</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Qmax priority_queue<span class="string">&lt;int,vector&lt;int&gt;</span> ,greater<span class="string">&lt;int&gt;</span> &gt;</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">mylog</span><span class="params">(<span class="type">int</span> a)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(a&amp;<span class="number">0xffff0000</span>)&#123;ans+=<span class="number">16</span>;a&gt;&gt;=<span class="number">16</span>;&#125;</span><br><span class="line">	<span class="keyword">if</span>(a&amp;<span class="number">0x0000ff00</span>)&#123;ans+=<span class="number">8</span>;a&gt;&gt;=<span class="number">8</span>;&#125;</span><br><span class="line">	<span class="keyword">if</span>(a&amp;<span class="number">0x000000f0</span>)&#123;ans+=<span class="number">4</span>;a&gt;&gt;=<span class="number">4</span>;&#125;</span><br><span class="line">	<span class="keyword">if</span>(a&amp;<span class="number">0x0000000c</span>)&#123;ans+=<span class="number">2</span>;a&gt;&gt;=<span class="number">2</span>;&#125;</span><br><span class="line">	<span class="keyword">if</span>(a&amp;<span class="number">0x00000002</span>)&#123;ans+=<span class="number">1</span>;a&gt;&gt;=<span class="number">1</span>;&#125;</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1e3</span>;</span><br><span class="line"><span class="type">int</span> mapp[N+<span class="number">10</span>][N+<span class="number">10</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> t=<span class="built_in">read</span>();</span><br><span class="line">	<span class="keyword">while</span>(t--)&#123;</span><br><span class="line">		<span class="type">int</span> n=<span class="built_in">read</span>(),m=<span class="built_in">read</span>();</span><br><span class="line">		<span class="built_in">rep</span>(i,<span class="number">1</span>,n)&#123;</span><br><span class="line">			<span class="built_in">rep</span>(j,<span class="number">1</span>,n)&#123;</span><br><span class="line">				<span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">					<span class="type">char</span> c;</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">&quot;\n%c&quot;</span>,&amp;c);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;</span><br><span class="line">					<span class="type">char</span> c;</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">&quot;\n%c&quot;</span>,&amp;c);</span><br><span class="line">					mapp[i][j]=(c==<span class="string">&#x27;a&#x27;</span>?<span class="number">0</span>:<span class="number">1</span>);	</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">2</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(mapp[<span class="number">1</span>][<span class="number">2</span>]==mapp[<span class="number">2</span>][<span class="number">1</span>])&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">				<span class="built_in">rep</span>(i,<span class="number">1</span>,m+<span class="number">1</span>)&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,(i&amp;<span class="number">1</span>)?<span class="number">1</span>:<span class="number">2</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(m&amp;<span class="number">1</span>)&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">					<span class="built_in">rep</span>(i,<span class="number">1</span>,m+<span class="number">1</span>)&#123;</span><br><span class="line">						<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,(i&amp;<span class="number">1</span>)?<span class="number">1</span>:<span class="number">2</span>);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">			<span class="type">int</span> a,b,c;</span><br><span class="line">			<span class="keyword">if</span>(mapp[<span class="number">1</span>][<span class="number">2</span>]==mapp[<span class="number">2</span>][<span class="number">3</span>])&#123;</span><br><span class="line">				a=<span class="number">2</span>;</span><br><span class="line">				b=<span class="number">3</span>;</span><br><span class="line">				c=<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(mapp[<span class="number">2</span>][<span class="number">3</span>]==mapp[<span class="number">3</span>][<span class="number">1</span>])&#123;</span><br><span class="line">				a=<span class="number">3</span>;</span><br><span class="line">				b=<span class="number">1</span>;</span><br><span class="line">				c=<span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(mapp[<span class="number">3</span>][<span class="number">1</span>]==mapp[<span class="number">1</span>][<span class="number">2</span>])&#123;</span><br><span class="line">				a=<span class="number">1</span>;</span><br><span class="line">				b=<span class="number">2</span>;</span><br><span class="line">				c=<span class="number">3</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(m%<span class="number">3</span>==<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">while</span>(m&gt;<span class="number">0</span>)&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">&quot;%d %d %d &quot;</span>,a,b,c);</span><br><span class="line">					m-=<span class="number">3</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(m%<span class="number">3</span>==<span class="number">1</span>)&#123;</span><br><span class="line">				m-=<span class="number">1</span>;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,b);</span><br><span class="line">				<span class="keyword">while</span>(m&gt;<span class="number">0</span>)&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">&quot;%d %d %d &quot;</span>,c,a,b);</span><br><span class="line">					m-=<span class="number">3</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,c);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				m-=<span class="number">2</span>;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%d %d &quot;</span>,c,a);</span><br><span class="line">				<span class="keyword">while</span>(m&gt;<span class="number">0</span>)&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">&quot;%d %d %d &quot;</span>,b,c,a);</span><br><span class="line">					m-=<span class="number">3</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%d \n&quot;</span>,b);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/12/NOIP2020-%E7%A7%BB%E7%90%83%E6%B8%B8%E6%88%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/12/NOIP2020-%E7%A7%BB%E7%90%83%E6%B8%B8%E6%88%8F/" class="post-title-link" itemprop="url">NOIP2020 移球游戏</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-12 22:20:09" itemprop="dateCreated datePublished" datetime="2020-12-12T22:20:09+08:00">2020-12-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9E%84%E9%80%A0%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">构造题</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Special-Judge/" itemprop="url" rel="index"><span itemprop="name">Special Judge</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/12/12/NOIP2020-%E7%A7%BB%E7%90%83%E6%B8%B8%E6%88%8F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/12/12/NOIP2020-%E7%A7%BB%E7%90%83%E6%B8%B8%E6%88%8F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

<h1 id="NOIP2020-移球游戏"><a href="#NOIP2020-移球游戏" class="headerlink" title="NOIP2020 移球游戏"></a>NOIP2020 移球游戏</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>此题位于t3位置，并且是noip第一次考构造题和special judge。考场上由于不会t2觉得t3更简单，并且常年在cf上打比赛觉得构造题十分熟悉而写了t3放弃t2。但由于不会使用spj导致代码漏洞百出（事实上自己写这个题spj非常简单）最后混了10分。其实考场上想出的思路也只能得40分。还是太菜了呀！</p>
<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><a target="_blank" rel="noopener" href="https://www.oitiku.com/rematch/6/55">题目链接</a></p>
<pre><code>移球游戏

输入文件名：ball.in

输出文件名：ball.out

共 20 个测试点，每个测试点 5 分

每个测试点限时 1 秒，运行内存上限 512MB

小 C 正在玩一个移球游戏，他面前有 n + 1 根柱子，柱子从 1 ∼ n+1 编号，其中 1 号柱子、2 号柱子、…、n。n 号柱子上各有 m 个球，它们自底向上放置在柱子上，n+1 号柱子上初始时没有球。这 n×m 个球共有 n 种颜色，每种颜色的球各 m 个。

初始时一根柱子上的球可能是五颜六色的，而小 C 的任务是将所有同种颜色的球移到同一根柱子上，这是唯一的目标，而每种颜色的球最后放置在哪根柱子则没有限制。

小 C 可以通过若干次操作完成这个目标，一次操作能将一个球从一根柱子移到另一根柱子上。更具体地，将 xx 号柱子上的球移动到 y 号柱子上的要求为:

x 号柱子上至少有一个球;
y 号柱子上至多有 m−1m−1 个球;
只能将 x 号柱子最上方的球移到 y 号柱子的最上方。
小 C 的目标并不难完成，因此他决定给自己加加难度:在完成目标的基础上，使用的操作次数不能超过 820000。换句话说，小 C 需要使用至多 820000 次操作完成目标。

小 C 被难住了，但他相信难不倒你，请你给出一个操作方案完成小 C 的目标。合法的方案可能有多种，你只需要给出任意一种，题目保证一定存在一个合法方案。

输入格式
输入文件名为 ball.in。

第一行两个用空格分隔的整数 n，m。分别表示球的颜色数、每种颜色球的个数。 接下来 n 行每行 m 个用单个空格分隔的整数，第 i 行的整数按自底向上的顺序依次给出了 i 号柱子上的球的颜色。

输出格式
输出文件名为 ball.out。

本题采用自定义校验器（special judge）评测。 你的输出的第一行应该仅包含单个整数 kk，表示你的方案的操作次数。你应保证 0 \leq k \leq 8200000≤k≤820000。

接下来 k 行每行你应输出两个用单个空格分隔的正整数 x,y，表示这次操作将 x 号柱子最上方的球移动到 y 号柱子最上方。你应保证 1 \leq x, y \leq n + 11≤x,y≤n+1 且 x \neq yx 

​    
 =y。

样例 1 输入
2 3
1 1 2
2 1 2
样例 1 输出
6
1 3
2 3
2 3
3 1
3 2
3 2
</code></pre><h2 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h2><h3 id="40pts"><a href="#40pts" class="headerlink" title="40pts"></a>40pts</h3><p>每次将同种颜色的球移至一个柱子不断缩小问题。对于一个深度为\(m\)的球要想移到某个柱子只需要\(2m\)次（将他上方的m-1个球移走，将这个球移至一个柱子，将m-1个球移回来，再将这个球移至最终要放的目标柱）。平均下每个深度都有一个要移动的球，所以平均复杂度为\(O(nm^2)\)</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> zhu[<span class="number">110</span>][<span class="number">510</span>];</span><br><span class="line"><span class="type">int</span> ci[<span class="number">510</span>];</span><br><span class="line"><span class="comment">//int name[100];</span></span><br><span class="line"><span class="type">int</span> bz[<span class="number">820010</span>][<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> endd=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">	bz[endd][<span class="number">0</span>]=x;</span><br><span class="line">	bz[endd++][<span class="number">1</span>]=y;</span><br><span class="line">	zhu[y][++zhu[y][<span class="number">0</span>]]=zhu[x][zhu[x][<span class="number">0</span>]--];</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mymove</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> d,<span class="type">int</span> len,<span class="type">int</span> zl)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(d==zhu[l][<span class="number">0</span>])&#123;</span><br><span class="line">		<span class="built_in">print</span>(l,len);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(;i&lt;=len&amp;&amp;zhu[l][<span class="number">0</span>]&gt;=d;)&#123;</span><br><span class="line">		<span class="keyword">if</span>(i==l)&#123;</span><br><span class="line">			++i;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(zhu[i][<span class="number">0</span>]&lt;m)&#123;</span><br><span class="line">			<span class="built_in">print</span>(l,i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			++i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(i==len)&#123;</span><br><span class="line">		<span class="keyword">if</span>(l==<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="built_in">print</span>(len<span class="number">-1</span>,l);</span><br><span class="line">			<span class="built_in">print</span>(len,len<span class="number">-1</span>);</span><br><span class="line">			i=len<span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="built_in">print</span>(<span class="number">1</span>,l);</span><br><span class="line">			<span class="built_in">print</span>(len,<span class="number">1</span>);</span><br><span class="line">			i=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span>(zhu[len][<span class="number">0</span>]&gt;<span class="number">0</span>&amp;&amp;zhu[len][zhu[len][<span class="number">0</span>]]!=zl)&#123;</span><br><span class="line">		<span class="built_in">print</span>(len,l);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">print</span>(i,len);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		zhu[i][<span class="number">0</span>]=m;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;++j)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;zhu[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	n++;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">		<span class="type">int</span> len=n-i;</span><br><span class="line">		<span class="keyword">if</span>(len==<span class="number">2</span>)<span class="keyword">break</span>;</span><br><span class="line">		<span class="type">int</span> minp=zhu[<span class="number">1</span>][zhu[<span class="number">1</span>][<span class="number">0</span>]];</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;len;++j)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k=zhu[j][<span class="number">0</span>];k&gt;=<span class="number">1</span>;--k)&#123;</span><br><span class="line">				<span class="keyword">if</span>(zhu[j][k]==minp)&#123;</span><br><span class="line">					<span class="type">int</span> temp=zhu[j][<span class="number">0</span>];</span><br><span class="line">					<span class="built_in">mymove</span>(j,k,len,minp);</span><br><span class="line">					<span class="keyword">if</span>(zhu[j][<span class="number">0</span>]==temp)++k;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(len&gt;<span class="number">2</span>)&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;len<span class="number">-1</span>;)&#123;</span><br><span class="line">				<span class="keyword">if</span>(zhu[j][<span class="number">0</span>]&lt;m)&#123;</span><br><span class="line">					<span class="built_in">print</span>(len<span class="number">-1</span>,j);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;</span><br><span class="line">					++j;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,endd);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;endd;++i)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,bz[i][<span class="number">0</span>],bz[i][<span class="number">1</span>]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="100pts"><a href="#100pts" class="headerlink" title="100pts"></a>100pts</h3><p>遇到这种题目正解一定要带一个log，只好往分治那方面想。所以可以把所有颜色一分两半，同类颜色在各自一半（并不要求同颜色连续）。</p>
<p>具体如何把颜色分类可用一个例子来说明。为方便描述，l表示左端点，r表示右端点，m表示中点这里用a表示要分类的柱子，b表示零时借用柱子，c表示空柱子。</p>
<ol>
<li>b—a中的球的个数—&gt;c</li>
<li>a—属于左边放b，否则放c—&gt;b,c</li>
<li>b，c—原来在a的—&gt;a</li>
<li>c—剩下的（原来是b的）—&gt;b</li>
</ol>
<p>现在我们有了r-l+1个相对有序的柱子，现在问题转化为如何将同色的一堆连续球放在一边。为方便表述z表示未完全分类的柱子左端点，同理y表示右端点。初始z=l，y=r</p>
<ol>
<li>若zy上属于左边的多，则利用空柱子几次反转使左边颜色在zy顶上。总之要把少的颜色放在顶上。假设这时左边颜色少。</li>
<li>z—左边颜色球—&gt;c</li>
<li>y—左边颜色球—&gt;c</li>
<li>z—剩下的且不超过y最大—y</li>
<li>—y</li>
<li>c——&gt;z</li>
</ol>
<p>这样y就缩小了，如此反复直至z==y-1==m</p>
<ol>
<li>f(l,m) f(m+1,r)</li>
</ol>
<p>这样问题就解决啦，复杂度大概为\(mnlog^n\)</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(i,a,b) for(int i=(a);i&lt;=(b);++i)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> frep(i,a,b) for(int i=(a);i&lt;(b);++i)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> drep(i,a,b) for(int i=(a);i&gt;=(b);--i)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> fdrep(i,a,b) for(int i=(a);i&gt;(b);--i)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> zhu[<span class="number">110</span>][<span class="number">510</span>];</span><br><span class="line"><span class="type">int</span> ci[<span class="number">510</span>];</span><br><span class="line"><span class="type">int</span> bz[<span class="number">820010</span>][<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> name[<span class="number">60</span>];</span><br><span class="line"><span class="type">int</span> endd=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="type">int</span> kong;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">	zhu[name[y]][++zhu[name[y]][<span class="number">0</span>]]=zhu[name[x]][zhu[name[x]][<span class="number">0</span>]--];</span><br><span class="line">	<span class="keyword">if</span>(endd&gt;<span class="number">0</span>&amp;&amp;bz[endd<span class="number">-1</span>][<span class="number">0</span>]==name[y]&amp;&amp;bz[endd<span class="number">-1</span>][<span class="number">1</span>]==name[x])&#123;</span><br><span class="line">		--endd;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(endd&gt;<span class="number">0</span>&amp;&amp;bz[endd<span class="number">-1</span>][<span class="number">1</span>]==name[x])&#123;</span><br><span class="line">		bz[endd<span class="number">-1</span>][<span class="number">1</span>]=y;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	bz[endd][<span class="number">0</span>]=name[x];</span><br><span class="line">	bz[endd++][<span class="number">1</span>]=name[y];</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mymove</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> c,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> con=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,zhu[name[a]][<span class="number">0</span>])&#123;</span><br><span class="line">		<span class="keyword">if</span>(zhu[name[a]][i]&gt;=l&amp;&amp;zhu[name[a]][i]&lt;=r)++con;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,con)&#123;</span><br><span class="line">		<span class="built_in">print</span>(b,c);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">drep</span>(i,zhu[name[a]][<span class="number">0</span>],<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(zhu[name[a]][i]&gt;=l&amp;&amp;zhu[name[a]][i]&lt;=r)<span class="built_in">print</span>(a,b);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">print</span>(a,c);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,con)&#123;</span><br><span class="line">		<span class="built_in">print</span>(b,a);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,m-con)&#123;</span><br><span class="line">		<span class="built_in">print</span>(c,a);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">rep</span>(i,<span class="number">1</span>,con)&#123;</span><br><span class="line">		<span class="built_in">print</span>(c,b);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l==r)<span class="keyword">return</span>;</span><br><span class="line">	<span class="type">int</span> temp=(l==<span class="number">1</span>)?<span class="number">2</span>:<span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> mm=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">	<span class="built_in">rep</span>(p,l,r)&#123;</span><br><span class="line">		<span class="keyword">if</span>(p==temp)temp=<span class="number">1</span>;</span><br><span class="line">		<span class="built_in">mymove</span>(p,temp,kong,l,mm);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> z=l,y=r;</span><br><span class="line">	<span class="keyword">while</span>(z&lt;y)&#123;</span><br><span class="line">		<span class="type">int</span> con1=<span class="number">0</span>,con2=<span class="number">0</span>,con3=<span class="number">0</span>,con4=<span class="number">0</span>;</span><br><span class="line">		<span class="built_in">rep</span>(i,<span class="number">1</span>,zhu[name[z]][<span class="number">0</span>])&#123;</span><br><span class="line">			con1+=zhu[name[z]][i]&lt;=mm?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">			con2+=zhu[name[z]][i]&lt;=mm?<span class="number">0</span>:<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">rep</span>(i,<span class="number">1</span>,zhu[name[y]][<span class="number">0</span>])&#123;</span><br><span class="line">			con3+=zhu[name[y]][i]&lt;=mm?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">			con4+=zhu[name[y]][i]&lt;=mm?<span class="number">0</span>:<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(con1+con3&lt;con2+con4)&#123;</span><br><span class="line">			<span class="keyword">if</span>(zhu[name[z]][zhu[name[z]][<span class="number">0</span>]]&gt;mm)&#123;</span><br><span class="line">				<span class="built_in">drep</span>(i,zhu[name[z]][<span class="number">0</span>],<span class="number">1</span>)&#123;</span><br><span class="line">					<span class="built_in">print</span>(z,kong);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">swap</span>(name[z],name[kong]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(zhu[name[y]][zhu[name[y]][<span class="number">0</span>]]&gt;mm)&#123;</span><br><span class="line">				<span class="built_in">drep</span>(i,zhu[name[y]][<span class="number">0</span>],<span class="number">1</span>)&#123;</span><br><span class="line">					<span class="built_in">print</span>(y,kong);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">swap</span>(name[y],name[kong]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[z]][<span class="number">0</span>]&amp;&amp;zhu[name[z]][zhu[name[z]][<span class="number">0</span>]]&lt;=mm)<span class="built_in">print</span>(z,kong);</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[y]][<span class="number">0</span>]&amp;&amp;zhu[name[y]][zhu[name[y]][<span class="number">0</span>]]&lt;=mm)<span class="built_in">print</span>(y,kong);</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[z]][<span class="number">0</span>]&amp;&amp;zhu[name[y]][<span class="number">0</span>]&lt;m)<span class="built_in">print</span>(z,y);</span><br><span class="line">			--y;</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[kong]][<span class="number">0</span>])<span class="built_in">print</span>(kong,z);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(zhu[name[z]][zhu[name[z]][<span class="number">0</span>]]&lt;=mm)&#123;</span><br><span class="line">				<span class="built_in">drep</span>(i,zhu[name[z]][<span class="number">0</span>],<span class="number">1</span>)&#123;</span><br><span class="line">					<span class="built_in">print</span>(z,kong);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">swap</span>(name[z],name[kong]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(zhu[name[y]][zhu[name[y]][<span class="number">0</span>]]&lt;=mm)&#123;</span><br><span class="line">				<span class="built_in">drep</span>(i,zhu[name[y]][<span class="number">0</span>],<span class="number">1</span>)&#123;</span><br><span class="line">					<span class="built_in">print</span>(y,kong);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">swap</span>(name[y],name[kong]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[z]][<span class="number">0</span>]&amp;&amp;zhu[name[z]][zhu[name[z]][<span class="number">0</span>]]&gt;mm)<span class="built_in">print</span>(z,kong);</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[y]][<span class="number">0</span>]&amp;&amp;zhu[name[y]][zhu[name[y]][<span class="number">0</span>]]&gt;mm)<span class="built_in">print</span>(y,kong);</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[y]][<span class="number">0</span>]&amp;&amp;zhu[name[z]][<span class="number">0</span>]&lt;m)<span class="built_in">print</span>(y,z);</span><br><span class="line">			++z;</span><br><span class="line">			<span class="keyword">while</span>(zhu[name[kong]][<span class="number">0</span>])<span class="built_in">print</span>(kong,y);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">solve</span>(l,mm);</span><br><span class="line">	<span class="built_in">solve</span>(mm+<span class="number">1</span>,r);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		name[i]=i;</span><br><span class="line">		zhu[i][<span class="number">0</span>]=m;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;++j)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;zhu[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	n++;</span><br><span class="line">	kong=n;</span><br><span class="line">	name[n]=n;</span><br><span class="line">	<span class="built_in">solve</span>(<span class="number">1</span>,n<span class="number">-1</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,endd);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;endd;++i)&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,bz[i][<span class="number">0</span>],bz[i][<span class="number">1</span>]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/10/04/P3977-TJOI2015-%E6%A3%8B%E7%9B%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/04/P3977-TJOI2015-%E6%A3%8B%E7%9B%98/" class="post-title-link" itemprop="url">P3977 [TJOI2015]棋盘</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-04 22:20:20" itemprop="dateCreated datePublished" datetime="2020-10-04T22:20:20+08:00">2020-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DP/" itemprop="url" rel="index"><span itemprop="name">DP</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E5%AD%A6/" itemprop="url" rel="index"><span itemprop="name">数学</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DP/%E7%8A%B6%E5%8E%8BDP/" itemprop="url" rel="index"><span itemprop="name">状压DP</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E5%AD%A6/%E7%9F%A9%E9%98%B5/" itemprop="url" rel="index"><span itemprop="name">矩阵</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/10/04/P3977-TJOI2015-%E6%A3%8B%E7%9B%98/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/10/04/P3977-TJOI2015-%E6%A3%8B%E7%9B%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

<h1 id="P3977-TJOI2015-棋盘"><a href="#P3977-TJOI2015-棋盘" class="headerlink" title="P3977 [TJOI2015]棋盘"></a>P3977 [TJOI2015]棋盘</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3977">题目</a></h2><p>题目描述</p>
<p>为了提高智商,ZJY去新世界旅游了。可是旅游过后的ZJY杯具的发现要打开通往原来世界的门,必须要解开门上面画的谜题。谜题是这样的:有个n行m列的棋盘,棋盘上可以放许多特殊的棋子。每个棋子的攻击范围是3行,p列。输入数据用一个3×p的矩阵给出了棋子攻击范围的模板,棋子被默认为模板中的第1行,第k列,则棋子能攻击到的位置是1,不能攻击到的位置是0。1≤p≤m,0≤k&lt;p。输入数据保证第1行第k列的位置是1。打开门的密码就是,在要求棋子互相不能攻击到的前提下,摆放棋子的方案数。注意什么棋子都不摆放也算作一种可行方案。由于方案数可能很大,而密码为32位的二进制密码,所以ZJY仅需要知道方案数对2的32次方取余数的结果即可。</p>
<p>输入格式</p>
<p>输入数据的第一行为两个整数n和m,表示棋盘的大小。第二行为两个整数p和k,表示接下来的攻击范围模板的大小,以及棋子在模板中的位置。接下来三行,每行有P个数,表示攻击范围的模版。每个数字后有一个空格。</p>
<p>输出格式</p>
<p>输出数据仅有一行,一个整数,表示可行的方案数模2^32的余数。</p>
<p>输入输出样例</p>
<p>输入 #1</p>
<blockquote>
<p>5 5<br>3 1<br>0 1 0<br>1 1 1<br>0 1 0</p>
</blockquote>
<p>输出 #1</p>
<blockquote>
<p>55447</p>
</blockquote>
<p>说明/提示</p>
<p>数据范围</p>
<p>对于10%的pn，1 ≤ n ≤ 5，1 ≤ m ≤ 5</p>
<p>对于50%的pn，1 ≤ n ≤ 1000，1 ≤ m ≤ 6</p>
<p>对于100%的pn，1 ≤ n ≤ 1000000，1 ≤ m ≤ 6</p>
<h2 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h2><h3 id="80stp："><a href="#80stp：" class="headerlink" title="80stp："></a>80stp：</h3><p>普通状压dp，把每行情况存储，逐行转移。复杂度O($n*2^m$)。</p>
<h3 id="100stp"><a href="#100stp" class="headerlink" title="100stp:"></a>100stp:</h3><p>我们发现每行转移与行的位置无关，所以可以用矩阵快速幂加速。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="80stp：-1"><a href="#80stp：-1" class="headerlink" title="80stp："></a>80stp：</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> p, k;</span><br><span class="line"><span class="type">int</span> moban[<span class="number">3</span>];</span><br><span class="line"><span class="type">int</span> end = <span class="number">0</span>;</span><br><span class="line">ll dp[<span class="number">2</span>][<span class="number">1</span> &lt;&lt; <span class="number">7</span>];</span><br><span class="line"><span class="type">int</span> qk[<span class="number">1</span> &lt;&lt; <span class="number">7</span>];</span><br><span class="line"><span class="type">int</span> gj[<span class="number">2</span>][<span class="number">1</span> &lt;&lt; <span class="number">7</span>];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; pr[<span class="number">1</span> &lt;&lt; <span class="number">7</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inil</span><span class="params">(<span class="type">int</span> js)</span> </span>&#123;</span><br><span class="line">    js = (<span class="number">1</span> &lt;&lt; js);</span><br><span class="line">    <span class="type">int</span> now = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (now &lt; js) &#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; (now &gt;&gt; i) &gt; <span class="number">0</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((now &gt;&gt; i) &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; k &amp;&amp; (((moban[<span class="number">1</span>] &gt;&gt; (k - i)) &amp; now) != <span class="number">0</span>)) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (((moban[<span class="number">1</span>] &lt;&lt; (i - k)) &amp; now) != <span class="number">0</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            qk[end] = now;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; (now &gt;&gt; i) &gt; <span class="number">0</span>; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((now &gt;&gt; i) &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i &lt; k) &#123;</span><br><span class="line">                        gj[<span class="number">0</span>][end] |= (moban[<span class="number">0</span>] &gt;&gt; (k - i));</span><br><span class="line">                        gj[<span class="number">1</span>][end] |= (moban[<span class="number">2</span>] &gt;&gt; (k - i));</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        gj[<span class="number">0</span>][end] |= (moban[<span class="number">0</span>] &lt;&lt; (i - k));</span><br><span class="line">                        gj[<span class="number">1</span>][end] |= (moban[<span class="number">2</span>] &lt;&lt; (i - k));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ++end;</span><br><span class="line">        &#125;</span><br><span class="line">        ++now;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; end; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; end; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((gj[<span class="number">1</span>][i] &amp; qk[j]) == <span class="number">0</span> &amp;&amp; (gj[<span class="number">0</span>][j] &amp; qk[i]) == <span class="number">0</span>) &#123;</span><br><span class="line">                pr[j].<span class="built_in">push_back</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">ll mod = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    mod &lt;&lt;= <span class="number">32</span>;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;p, &amp;k);</span><br><span class="line">    k = p - k;</span><br><span class="line">    --k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; p; ++j) &#123;</span><br><span class="line">            moban[i] &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> a;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">            moban[i] += a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    moban[<span class="number">1</span>] ^= (<span class="number">1</span> &lt;&lt; k);</span><br><span class="line">    <span class="built_in">inil</span>(m);</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; end; ++j) &#123;</span><br><span class="line">            dp[i &amp; <span class="number">1</span>][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> size = pr[j].<span class="built_in">size</span>();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; size; ++k) &#123;</span><br><span class="line">                dp[i &amp; <span class="number">1</span>][j] += dp[(i - <span class="number">1</span>) &amp; <span class="number">1</span>][pr[j][k]];</span><br><span class="line">                dp[i &amp; <span class="number">1</span>][j] %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; end; ++i) &#123;</span><br><span class="line">        ans += dp[n &amp; <span class="number">1</span>][i];</span><br><span class="line">        ans %= mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="100stp-1"><a href="#100stp-1" class="headerlink" title="100stp:"></a>100stp:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> p, k;</span><br><span class="line"><span class="type">int</span> moban[<span class="number">3</span>];</span><br><span class="line"><span class="type">int</span> end = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// ull dp[2][1&lt;&lt;7];</span></span><br><span class="line"><span class="type">int</span> qk[<span class="number">1</span> &lt;&lt; <span class="number">7</span>];</span><br><span class="line"><span class="type">int</span> gj[<span class="number">2</span>][<span class="number">1</span> &lt;&lt; <span class="number">7</span>];  <span class="comment">//上下攻击</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; pr[<span class="number">1</span> &lt;&lt; <span class="number">7</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">matrix</span> &#123;</span><br><span class="line">    <span class="comment">//矩阵</span></span><br><span class="line">    ull num[<span class="number">1</span> &lt;&lt; <span class="number">7</span>][<span class="number">1</span> &lt;&lt; <span class="number">7</span>];</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">inil</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(num, <span class="number">0</span>, <span class="built_in">sizeof</span>(num)); &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">inil1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; <span class="number">7</span>); ++i) &#123;</span><br><span class="line">            num[i][i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; yx;</span><br><span class="line">ll mod = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inil</span><span class="params">(<span class="type">int</span> js)</span> </span>&#123;</span><br><span class="line">    js = (<span class="number">1</span> &lt;&lt; js);</span><br><span class="line">    <span class="type">int</span> now = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (now &lt; js) &#123;</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; (now &gt;&gt; i) &gt; <span class="number">0</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((now &gt;&gt; i) &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; k &amp;&amp; (((moban[<span class="number">1</span>] &gt;&gt; (k - i)) &amp; now) != <span class="number">0</span>)) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (((moban[<span class="number">1</span>] &lt;&lt; (i - k)) &amp; now) != <span class="number">0</span>) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            qk[end] = now;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; (now &gt;&gt; i) &gt; <span class="number">0</span>; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((now &gt;&gt; i) &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i &lt; k) &#123;</span><br><span class="line">                        gj[<span class="number">0</span>][end] |= (moban[<span class="number">0</span>] &gt;&gt; (k - i));</span><br><span class="line">                        gj[<span class="number">1</span>][end] |= (moban[<span class="number">2</span>] &gt;&gt; (k - i));</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        gj[<span class="number">0</span>][end] |= (moban[<span class="number">0</span>] &lt;&lt; (i - k));</span><br><span class="line">                        gj[<span class="number">1</span>][end] |= (moban[<span class="number">2</span>] &lt;&lt; (i - k));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ++end;</span><br><span class="line">        &#125;</span><br><span class="line">        ++now;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; end; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; end; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((gj[<span class="number">1</span>][i] &amp; qk[j]) == <span class="number">0</span> &amp;&amp; (gj[<span class="number">0</span>][j] &amp; qk[i]) == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//				pr[j].push_back(i);</span></span><br><span class="line">                yx.num[j][i] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">matrix</span> <span class="built_in">mul</span>(<span class="keyword">struct</span> matrix a, <span class="keyword">struct</span> matrix b) &#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">matrix</span> ans;</span><br><span class="line">    ans.<span class="built_in">inil</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= end; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= end; ++j) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= end; ++k) &#123;</span><br><span class="line">                a.num[i][k] %= mod;</span><br><span class="line">                b.num[k][j] %= mod;</span><br><span class="line">                ull temp = a.num[i][k] * b.num[k][j];</span><br><span class="line">                temp %= mod;</span><br><span class="line">                <span class="keyword">if</span> (temp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    cout &lt;&lt; a.num[i][k] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b.num[k][j] &lt;&lt; endl;</span><br><span class="line">                &#125;</span><br><span class="line">                ans.num[i][j] += temp;</span><br><span class="line">                ans.num[i][j] %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">matrix</span> <span class="built_in">jzksm</span>(<span class="keyword">struct</span> matrix a, <span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="comment">//矩阵快速幂</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">matrix</span> ans;</span><br><span class="line">    ans.<span class="built_in">inil1</span>();</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">1</span>)</span><br><span class="line">            ans = <span class="built_in">mul</span>(ans, a);</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        a = <span class="built_in">mul</span>(a, a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    yx.<span class="built_in">inil</span>();</span><br><span class="line">    mod &lt;&lt;= <span class="number">32</span>;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;p, &amp;k);</span><br><span class="line">    k = p - k;</span><br><span class="line">    --k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; p; ++j) &#123;</span><br><span class="line">            moban[i] &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> a;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">            moban[i] += a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    moban[<span class="number">1</span>] ^= (<span class="number">1</span> &lt;&lt; k);</span><br><span class="line">    <span class="built_in">inil</span>(m);</span><br><span class="line">    yx = <span class="built_in">jzksm</span>(yx, n);</span><br><span class="line">    <span class="comment">//	dp[0][0]=1;</span></span><br><span class="line">    <span class="comment">//	for(int i=1;i&lt;=n;++i)&#123;</span></span><br><span class="line">    <span class="comment">//		for(int j=0;j&lt;end;++j)&#123;</span></span><br><span class="line">    <span class="comment">//			dp[i&amp;1][j]=0;</span></span><br><span class="line">    <span class="comment">//			int size=pr[j].size();</span></span><br><span class="line">    <span class="comment">//			for(int k=0;k&lt;size;++k)&#123;</span></span><br><span class="line">    <span class="comment">//				dp[i&amp;1][j]+=dp[(i-1)&amp;1][pr[j][k]];</span></span><br><span class="line">    <span class="comment">//				dp[i&amp;1][j]%=mod;</span></span><br><span class="line">    <span class="comment">//			&#125;</span></span><br><span class="line">    <span class="comment">//		&#125;</span></span><br><span class="line">    <span class="comment">//	&#125;</span></span><br><span class="line">    ull ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; end; ++i) &#123;</span><br><span class="line">        ans += yx.num[i][<span class="number">0</span>];</span><br><span class="line">        ans %= mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/06/CF1399D-Binary-String-To-Subsequences/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/myavatar.jpg">
      <meta itemprop="name" content="99_wood">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="99_wood's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/06/CF1399D-Binary-String-To-Subsequences/" class="post-title-link" itemprop="url">CF1399D Binary String To Subsequences</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-06 18:17:11" itemprop="dateCreated datePublished" datetime="2020-08-06T18:17:11+08:00">2020-08-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-24 00:06:32" itemprop="dateModified" datetime="2023-08-24T00:06:32+08:00">2023-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%98%9F%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">队列</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/08/06/CF1399D-Binary-String-To-Subsequences/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/08/06/CF1399D-Binary-String-To-Subsequences/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

<h1 id="CF1399D-Binary-String-To-Subsequences"><a href="#CF1399D-Binary-String-To-Subsequences" class="headerlink" title="CF1399D Binary-String-To-Subsequences"></a>CF1399D Binary-String-To-Subsequences</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><pre><code>D. Binary String To Subsequences
time limit per test2 seconds
memory limit per test256 megabytes
inputstandard input
outputstandard output
You are given a binary string s consisting of n zeros and ones.

Your task is to divide the given string into the minimum number of subsequences in such a way that each character of the string belongs to exactly one subsequence and each subsequence looks like &quot;010101 ...&quot; or &quot;101010 ...&quot; (i.e. the subsequence should not contain two adjacent zeros or ones).

Recall that a subsequence is a sequence that can be derived from the given sequence by deleting zero or more elements without changing the order of the remaining elements. For example, subsequences of &quot;1011101&quot; are &quot;0&quot;, &quot;1&quot;, &quot;11111&quot;, &quot;0111&quot;, &quot;101&quot;, &quot;1001&quot;, but not &quot;000&quot;, &quot;101010&quot; and &quot;11100&quot;.

You have to answer t independent test cases.

Input
The first line of the input contains one integer t (1≤t≤2⋅104) — the number of test cases. Then t test cases follow.

The first line of the test case contains one integer n (1≤n≤2⋅105) — the length of s. The second line of the test case contains n characters &#39;0&#39; and &#39;1&#39; — the string s.

It is guaranteed that the sum of n does not exceed 2⋅105 (∑n≤2⋅105).

Output
For each test case, print the answer: in the first line print one integer k (1≤k≤n) — the minimum number of subsequences you can divide the string s to. In the second line print n integers a1,a2,…,an (1≤ai≤k), where ai is the number of subsequence the i-th character of s belongs to.

If there are several answers, you can print any.

Example
inputCopy
4
4
0011
6
111111
5
10101
8
01010000
outputCopy
2
1 2 2 1 
6
1 2 3 4 5 6 
1
1 1 1 1 1 
4
1 1 1 1 1 2 3 4 
</code></pre><h2 id="翻译"><a href="#翻译" class="headerlink" title="翻译"></a>翻译</h2><p><a target="_blank" rel="noopener" href="https://fanyi.baidu.com/?aldtype=16047#en/zh/D.%20Binary%20String%20To%20Subsequences%0Atime%20limit%20per%20test2%20seconds%0Amemory%20limit%20per%20test256%20megabytes%0Ainputstandard%20input%0Aoutputstandard%20output%0AYou%20are%20given%20a%20binary%20string%20s%20consisting%20of%20n%20zeros%20and%20ones.%0A%0AYour%20task%20is%20to%20divide%20the%20given%20string%20into%20the%20minimum%20number%20of%20subsequences%20in%20such%20a%20way%20that%20each%20character%20of%20the%20string%20belongs%20to%20exactly%20one%20subsequence%20and%20each%20subsequence%20looks%20like%20%22010101%20...%22%20or%20%22101010%20...%22%20(i.e.%20the%20subsequence%20should%20not%20contain%20two%20adjacent%20zeros%20or%20ones">百度翻译结果</a>.%0A%0ARecall%20that%20a%20subsequence%20is%20a%20sequence%20that%20can%20be%20derived%20from%20the%20given%20sequence%20by%20deleting%20zero%20or%20more%20elements%20without%20changing%20the%20order%20of%20the%20remaining%20elements.%20For%20example%2C%20subsequences%20of%20%221011101%22%20are%20%220%22%2C%20%221%22%2C%20%2211111%22%2C%20%220111%22%2C%20%22101%22%2C%20%221001%22%2C%20but%20not%20%22000%22%2C%20%22101010%22%20and%20%2211100%22.%0A%0AYou%20have%20to%20answer%20t%20independent%20test%20cases.)<br><a target="_blank" rel="noopener" href="https://fanyi.baidu.com/?aldtype=16047#en/zh/Input%0AThe%20first%20line%20of%20the%20input%20contains%20one%20integer%20t%20(1%E2%89%A4t%E2%89%A42%E2%8B%85104">百度翻译结果</a>%20%E2%80%94%20the%20number%20of%20test%20cases.%20Then%20t%20test%20cases%20follow.%0A%0AThe%20first%20line%20of%20the%20test%20case%20contains%20one%20integer%20n%20(1%E2%89%A4n%E2%89%A42%E2%8B%85105)%20%E2%80%94%20the%20length%20of%20s.%20The%20second%20line%20of%20the%20test%20case%20contains%20n%20characters%20’0’%20and%20’1’%20%E2%80%94%20the%20string%20s.%0A%0AIt%20is%20guaranteed%20that%20the%20sum%20of%20n%20does%20not%20exceed%202%E2%8B%85105%20(%E2%88%91n%E2%89%A42%E2%8B%85105).%0A%0AOutput%0AFor%20each%20test%20case%2C%20print%20the%20answer%3A%20in%20the%20first%20line%20print%20one%20integer%20k%20(1%E2%89%A4k%E2%89%A4n)%20%E2%80%94%20the%20minimum%20number%20of%20subsequences%20you%20can%20divide%20the%20string%20s%20to.%20In%20the%20second%20line%20print%20n%20integers%20a1%2Ca2%2C%E2%80%A6%2Can%20(1%E2%89%A4ai%E2%89%A4k)%2C%20where%20ai%20is%20the%20number%20of%20subsequence%20the%20i-th%20character%20of%20s%20belongs%20to.%0A%0AIf%20there%20are%20several%20answers%2C%20you%20can%20print%20any.%0A%0AExample%0AinputCopy%0A4%0A4%0A0011%0A6%0A111111%0A5%0A10101%0A8%0A01010000%0AoutputCopy%0A2%0A1%202%202%201%20%0A6%0A1%202%203%204%205%206%20%0A1%0A1%201%201%201%201%20%0A4%0A1%201%201%201%201%202%203%204)</p>
<h2 id="思路一"><a href="#思路一" class="headerlink" title="思路一"></a>思路一</h2><p>我们发现对于任意si，加入已有子序列bj的唯一要求就是si!=bj[end]。所以我们只需存储目前所有的bj[end]记为bj，对于任意si，遍历各个子序列结尾bj。若si!=bj，则加入；若所有子序列bj==si，则新建一个序列放入。最后结果为序列数</p>
<h2 id="代码一（TLE）"><a href="#代码一（TLE）" class="headerlink" title="代码一（TLE）"></a>代码一（TLE）</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">char</span> s[<span class="number">200010</span>];</span><br><span class="line"><span class="type">int</span> a[<span class="number">200010</span>];</span><br><span class="line"><span class="type">int</span> b[<span class="number">200010</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">	<span class="keyword">while</span>(t--)&#123;</span><br><span class="line">		<span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="built_in">sizeof</span>(a));</span><br><span class="line">		<span class="type">int</span> n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;\n%s&quot;</span>,s);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">			a[i]=s[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">			<span class="type">bool</span> flag=<span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=ans;++j)&#123;</span><br><span class="line">				<span class="keyword">if</span>(a[i]!=b[j])&#123;</span><br><span class="line">					a[i]=j;</span><br><span class="line">					flag=<span class="literal">false</span>;</span><br><span class="line">					b[j]+=<span class="number">1</span>;</span><br><span class="line">					b[j]%=<span class="number">2</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(flag)&#123;</span><br><span class="line">				++ans;</span><br><span class="line">				b[ans]=a[i];</span><br><span class="line">				a[i]=ans;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	freopen(&quot;data.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//	freopen(&quot;test.out&quot;,&quot;w&quot;,stdout);</span></span><br></pre></td></tr></table></figure>
<h2 id="思路二"><a href="#思路二" class="headerlink" title="思路二"></a>思路二</h2><p>我们发现超时的原因主要在于搜索可放入序列bj过程耗时过多，最坏情况所有bj!=ai,时间复杂度将退化到O(n^2).由于sum(n)&lt;=2*10^5，最坏情况下t=0，n=200000，时间复杂度为O(200000^2)。显然超时。</p>
<p>针对搜索可放入序列bj过程耗时过多，我们发现用两个数组一个存结尾为0，另一个存结尾为1。每次只需判断数组是否空即可。若不空，则加入序列，并将该序列移至另一数组，否则新建一个序列。进一步思考发现若将数组换位队列将更好操作，于是有了下面这份代码，简单观察可知时间复杂度为O(sum(n))，效率很高。</p>
<h2 id="代码二"><a href="#代码二" class="headerlink" title="代码二"></a>代码二</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">char</span> s[<span class="number">200010</span>];</span><br><span class="line"><span class="type">int</span> a[<span class="number">200010</span>];</span><br><span class="line">queue&lt;<span class="type">int</span>&gt;b0;</span><br><span class="line">queue&lt;<span class="type">int</span>&gt;b1;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">	<span class="keyword">while</span>(t--)&#123;</span><br><span class="line">		<span class="keyword">while</span>(!b0.<span class="built_in">empty</span>())&#123;</span><br><span class="line">			b0.<span class="built_in">pop</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span>(!b1.<span class="built_in">empty</span>())&#123;</span><br><span class="line">			b1.<span class="built_in">pop</span>();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="built_in">sizeof</span>(a));</span><br><span class="line">		<span class="type">int</span> n;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;\n%s&quot;</span>,s);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">			a[i]=s[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">			<span class="keyword">if</span>(a[i]==<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(!b0.<span class="built_in">empty</span>())&#123;</span><br><span class="line">					a[i]=b0.<span class="built_in">front</span>();</span><br><span class="line">					b0.<span class="built_in">pop</span>();</span><br><span class="line">					b1.<span class="built_in">push</span>(a[i]);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;</span><br><span class="line">					++ans;</span><br><span class="line">					a[i]=ans;</span><br><span class="line">					b1.<span class="built_in">push</span>(ans);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(!b1.<span class="built_in">empty</span>())&#123;</span><br><span class="line">					a[i]=b1.<span class="built_in">front</span>();</span><br><span class="line">					b1.<span class="built_in">pop</span>();</span><br><span class="line">					b0.<span class="built_in">push</span>(a[i]);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;</span><br><span class="line">					++ans;</span><br><span class="line">					a[i]=ans;</span><br><span class="line">					b0.<span class="built_in">push</span>(ans);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//	freopen(&quot;data.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//	freopen(&quot;test.out&quot;,&quot;w&quot;,stdout);</span></span><br></pre></td></tr></table></figure><link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <!-- 音乐播放器 -->
      <div>
          
            <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=26908739&auto=1&height=66"></iframe>
          
      </div>

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="99_wood"
      src="/images/myavatar.jpg">
  <p class="site-author-name" itemprop="name">99_wood</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">35</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/99-woods" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;99-woods" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2941426785@qq.com" title="E-Mail → mailto:2941426785@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://wpa.qq.com/msgrd?v=3&uin=2941426785&site=qq&menu=yes" title="QQ → http:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;2941426785&amp;site&#x3D;qq&amp;menu&#x3D;yes" rel="noopener" target="_blank"><i class="fa fa-fw fa-qq"></i>QQ</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">99_wood</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v7.1.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'kR5HnzDif3BLArhvtNvi5nnP-gzGzoHsz',
      appKey     : 'g9IXkE0N6kAmnfOgQOpmIihL',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
